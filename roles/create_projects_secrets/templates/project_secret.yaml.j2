POSTGRES_USER: "{{ item.postgres.username }}"
POSTGRES_PASSWORD: "{{ item.postgres.password }}"
POSTGRES_DATABASE: "{{ item.name }}"
POSTGRES_HOST: "{{ postgres_release_name }}-postgresql.{{ postgres_namespace }}.svc.cluster.local"
POSTGRES_PORT: "5432"
EXTERNAL_DOMAIN: "{{ item.domain }}"
{% if item.smtp.enabled | default(false) %}
SMTP_DOMAIN: "mail.{{ item.domain }}"
SMTP_USER: "{{ item.smtp.user }}"
SMTP_PASSWORD: "{{ item.smtp.password }}"
{% endif %}
{% if item.cassandra.enabled | default(false) and (install_cassandra | default(false)) %}
CASSANDRA_USER: "{{ item.cassandra.username }}"
CASSANDRA_PASSWORD: "{{ item.cassandra.password }}"
CASSANDRA_KEYSPACE: "{{ item.name | lower | regex_replace('[^a-z0-9_]', '_') }}"
CASSANDRA_HOST: "cassandra.{{ cassandra_namespace }}.svc.cluster.local"
CASSANDRA_PORT: "9042"
{% endif %}
{% if item.elasticsearch.enabled | default(false) and (install_elasticsearch | default(false)) %}
ELASTICSEARCH_USER: "{{ item.elasticsearch.username }}"
ELASTICSEARCH_PASSWORD: "{{ item.elasticsearch.password }}"
ELASTICSEARCH_INDEX: "{{ item.name | lower | regex_replace('[^a-z0-9_]', '_') }}"
ELASTICSEARCH_HOST: "elasticsearch-master.{{ elasticsearch_namespace }}.svc"
ELASTICSEARCH_PORT: "9200"
ELASTICSEARCH_SECURE: "true"
ELASTICSEARCH_CA_CRT_BASE64: "{{ elasticsearch_ca_secret.resources[0].data['ca.crt'] }}"
{% endif %}
